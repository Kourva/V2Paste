#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import SlideTransition kivy.uix.screenmanager.SlideTransition



# Menu stuff
<MainMenuScreen>


    # App background
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: root.background


    # Screen float layout
    FloatLayout:

        # ID 
        id: floatlayout

        # App action bar
        ActionBar:

            # Size & Position
            pos_hint: {'top':1}
            height: 55

            # Style
            background_color: '#aaaaaa'

            # Action View
            ActionView:

                # Separator
                use_separator: False

                # Action Previous
                ActionPrevious:
                    halign: 'right'
                    title: f'[b][font={root.Cyberverse}][color=#ffffff]V2[/color][color=#2fa7d4]Paste[/font][/color][/b]'
                    with_previous: False
                    markup: True
                    app_icon: "Sources/Assets/vicon.png"

                # Action overflow
                ActionOverflow:
                    overflow_image: "Sources/Assets/3dot.png"

                    # Help button
                    ActionButton:
                        markup: True
                        font_name: root.Cyberverse
                        text: '[color=#ffffff]?[/color] Help'
                        background_color: "#aaaaaa"
                        color: "#2fa7d4"
                        
                        # Action
                        on_press:
                            root.manager.transition = FadeTransition(duration=0.2)
                            root.manager.current = 'HelpMenu'

                    # Exit button
                    ActionButton:
                        markup: True
                        font_name: root.Cyberverse
                        text: '[color=#ffffff]x[/color] Exit'
                        background_color: "#aaaaaa"
                        color: "#2fa7d4"

                        # Action
                        on_press:
                            sys.exit()


        # CloudFlare label
        Label:

            # Size & Position
            size_hint: (0.9, 0.1)
            pos_hint: {"center_x": 0.5, "center_y":0.85}

            # Style
            markup: True
            font_name: root.Cyberverse
            color: "#ff5500"
            halign: "left"
            text: "[b]CloudFlare[/b]"
        

        # CloudFlare input
        TextInput:

            # ID
            id: worker

            # Size & Position
            size_hint: (0.9, None)
            height: "35dp"
            pos_hint: {"center_x": 0.5, "center_y":0.8}
            markup: True
            font_name: "RobotoMono-Regular"
            multiline: False
            background_color: "616161"
            foreground_color: "ff5500"
            hint_text: "https://xxx.yyy.workers.dev/"


        # Doprax label
        Label:

            # Size & Position
            size_hint: (0.9, 0.1)
            pos_hint: {"center_x": 0.5, "center_y":0.725}
            
            # Style
            markup: True
            font_name: root.Cyberverse
            color: "#2fa7d4"
            halign: "left"
            text: "[b]Doprax[/b]"


        # Doprax input
        TextInput:

            # ID
            id: doprax

            # Size & Position
            size_hint: (0.9, None)
            height: "35dp"
            pos_hint: {"center_x": 0.5, "center_y":0.675}

            # Style
            markup: True
            font_name: "RobotoMono-Regular"
            multiline: False
            background_color: "616161"
            foreground_color: "2fa7d4"
            hint_text: "xxx.eu-yyy.dopraxrocks.net"


        # Alias label
        Label:

            # Size & Position
            size_hint: (0.9, 0.1)
            pos_hint: {"center_x": 0.5, "center_y":0.6}

            # Style
            markup: True
            font_name: root.Cyberverse
            color: "#dd0000"
            halign: "left"
            text: "[b]Alias[/b]"


        # Alias input
        TextInput:

            # ID
            id: alias

            # Size & Position
            size_hint: (0.9, None)
            height: "35dp"
            pos_hint: {"center_x": 0.5, "center_y":0.55}

            # Style
            markup: True
            font_name: "RobotoMono-Regular"
            multiline: False
            background_color: "616161"
            foreground_color: "dd0000"
            hint_text: "V2Paste-feb12"



        # UUID label
        Label:

            # Size & Position
            size_hint: (0.9, 0.1)
            pos_hint: {"center_x": 0.5, "center_y":0.475}

            # Style
            markup: True
            font_name: root.Cyberverse
            color: "#55ff00"
            halign: "left"
            text: "[b]UUID[/b]"


        # UUID input
        TextInput:

            # ID
            id: uuid

            # Size & Position
            size_hint: (0.9, None)
            height: "35dp"
            pos_hint: {"center_x": 0.5, "center_y":0.425}

            # Style
            markup: True
            font_name: "RobotoMono-Regular"
            multiline: False
            background_color: "616161"
            foreground_color: "55ff00"
            hint_text: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"


        # Address label
        Label:

            # Size & Position
            size_hint: (0.9, 0.1)
            pos_hint: {"center_x": 0.5, "center_y":0.35}

            # Style
            markup: True
            font_name: root.Cyberverse
            color: "#ffffff"
            halign: "left"
            text: "[b]Address[/b]"
        

        # Address input
        TextInput:

            # ID
            id: address

            # Size & Position
            size_hint: (0.9, None)
            height: "35dp"
            pos_hint: {"center_x": 0.5, "center_y":0.3}
            markup: True
            font_name: "RobotoMono-Regular"
            multiline: False
            background_color: "616161"
            foreground_color: "ffffff"
            hint_text: "255.255.255.255:443"


        # Output label
        Label:

            # ID
            id: output

            # Size & Position
            size_hint: (0.9, 0.1)
            pos_hint: {"center_x": 0.5, "center_y":0.175}

            # Style
            markup: True
            font_name: root.Cyberverse
            color: "#cccccc"
            halign: "left"
            text: "[b][/b]"
        

        # Generate button
        Button:

            # ID
            id: generate

            # Size & Position
            size_hint: (1, None)
            pos_hint: {'button':1}
            height: "40dp"

            # Style
            markup: True
            font_name: root.Cyberverse
            text: "Generate Vless"
            color: "#2fa7d4"
            background_color: "#171717"

            # Action
            on_press:
                root.vless_generator(worker, doprax, uuid, alias, address, output)

# EOF